<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grid Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }
        #gameGrid {
            display: grid;
            grid-template-columns: repeat(5, 60px);
            grid-gap: 5px;
        }
        .grid-cell {
            width: 60px;
            height: 60px;
            background-color: #d3d3d3;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            border: 1px solid #999;
        }
        .grid-cell.revealed {
            background-color: #f0f0f0;
            cursor: default;
        }
        #controls {
            margin-bottom: 20px;
        }
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        #status {
            margin-top: 15px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div id="controls">
        <label for="bet">Bet Amount (coins):</label>
        <input type="number" id="bet" min="1" value="1">
        <label for="bombs">Number of Bombs:</label>
        <input type="number" id="bombs" min="1" max="24" value="5">
        <button id="startGame">Start Game</button>
        <button id="claimCoins" disabled>Claim Coins</button>
    </div>
    <div id="gameGrid"></div>
    <div id="status">Starting multiplier: 1x</div>

    <script>
        let coins = 100;
        let multiplier = 1;
        let gameActive = false;
        let revealedCells = 0;

        document.getElementById('startGame').addEventListener('click', startGame);
        document.getElementById('claimCoins').addEventListener('click', claimCoins);

        function startGame() {
            const betAmount = parseInt(document.getElementById('bet').value);
            const bombs = parseInt(document.getElementById('bombs').value);

            if (betAmount < 1 || bombs < 1 || !Number.isInteger(bombs)) {
                alert('Please enter valid numbers for bet and bombs.');
                return;
            }
            if (bombs >= 25) {
                alert('The number of bombs must be less than 25.');
                return;
            }

            document.getElementById('startGame').disabled = true;
            document.getElementById('claimCoins').disabled = true;
            gameActive = true;
            revealedCells = 0;
            multiplier = 1 + (bombs / 25) * 2; // Adjust multiplier based on bombs

            updateStatus(`Game started! Multiplier: ${multiplier.toFixed(2)}x`);
            generateGrid(bombs);
        }

        function generateGrid(bombs) {
            const gameGrid = document.getElementById('gameGrid');
            gameGrid.innerHTML = '';
            const cells = Array(25).fill('coin');
            for (let i = 0; i < bombs; i++) {
                let index;
                do {
                    index = Math.floor(Math.random() * 25);
                } while (cells[index] === 'bomb');
                cells[index] = 'bomb';
            }

            cells.forEach((content, index) => {
                const cell = document.createElement('div');
                cell.classList.add('grid-cell');
                cell.dataset.content = content;
                cell.addEventListener('click', () => revealCell(cell));
                gameGrid.appendChild(cell);
            });
        }

        function revealCell(cell) {
            if (!gameActive || cell.classList.contains('revealed')) return;

            cell.classList.add('revealed');
            cell.style.animation = 'shake 0.5s';
            setTimeout(() => {
                cell.style.animation = '';
                if (cell.dataset.content === 'bomb') {
                    cell.textContent = 'ðŸ’£';
                    gameOver(false);
                } else {
                    cell.textContent = 'ðŸ’°';
                    revealedCells++;
                    if (revealedCells === 1) {
                        document.getElementById('claimCoins').disabled = false;
                    }
                    multiplier *= 1.1; // Increase multiplier for each coin found
                    updateStatus(`Multiplier: ${multiplier.toFixed(2)}x`);
                }
            }, 500);
        }

        function gameOver(won) {
            gameActive = false;
            document.getElementById('startGame').disabled = false;
            if (won) {
                alert('You won! Claim your coins!');
            } else {
                updateStatus('Game over! You hit a bomb.');
                document.getElementById('claimCoins').disabled = true;
            }
        }

        function claimCoins() {
            if (!gameActive || revealedCells === 0) return;

            const betAmount = parseInt(document.getElementById('bet').value);
            const winnings = betAmount * multiplier;
            coins += winnings;
            updateStatus(`You claimed ${winnings.toFixed(2)} coins! Total coins: ${coins.toFixed(2)}`);
            gameActive = false;
            document.getElementById('startGame').disabled = false;
            document.getElementById('claimCoins').disabled = true;
        }

        function updateStatus(message) {
            document.getElementById('status').textContent = message;
        }
    </script>
</body>
</html>
